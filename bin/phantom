#!/bin/bash

###############################################################################
#                                PHANTOMPHP                                   #
#                                                                             #
#                 Author:             Uthman Oladele                             #
#                 GitHub Repo:        https://github.com/codetesla51/phantomphp#
#                 Personal Website:   https://dev-uthman.vercel.app           #
#                                                                             #
# ─────────────────────────────────────────────────────────────────────────── #
# A versatile and efficient PHP server for Termux, designed to empower        #
# developers with features that streamline PHP app development.               #
#                                                                             #
# Features:                                                                   #
#    • Port Forwarding: Effortlessly forward ports for external access.       #
#    • Port Selection: Flexible port assignment, including auto-configuration.#
#    • phpMyAdmin Integration: Easy database management from Termux.          #
#    • Direct PHP Execution: Instantly run PHP files from the terminal.       #
#                                                                             #
# ─────────────────────────────────────────────────────────────────────────── #
# Licensed under the MIT License:                                             #
#                                                                             #
# Permission is hereby granted, free of charge, to any person obtaining a     #
# copy of this software and associated documentation files (the "Software"),  #
# to deal in the Software without restriction, including without limitation   #
# the rights to use, copy, modify, merge, publish, distribute, sublicense,    #
# and/or sell copies of the Software, and to permit persons to whom the       #
# Software is furnished to do so, subject to the following conditions:        #
#                                                                             #
# The above copyright notice and this permission notice shall be included in  #
# all copies or substantial portions of the Software.                         #
#                                                                             #
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR  #
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,    #
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE #
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER      #
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING     #
# FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER         #
# DEALINGS IN THE SOFTWARE.                                                   #
###############################################################################

BASEDIR="$HOME/phantomphp"
source "$BASEDIR/lib/help";
source "$BASEDIR/lib/serve"
source "$BASEDIR/lib/runPHP"
source "$BASEDIR/lib/portForward"
source "$BASEDIR/lib/install"
source "$BASEDIR/lib/phpMyAdmin"
source "$BASEDIR/helper/validate_port"
source "$BASEDIR/utils/flags"
source "$BASEDIR/utils/echo"
source "$BASEDIR/config"
if [ "$SERVE" = "true" ]; then
serve "$PORT" "$DIRECTORY"
fi